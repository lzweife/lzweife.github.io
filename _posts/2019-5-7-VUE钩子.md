---
layout:     post
title:      VUE钩子函数详细解析
subtitle:   深入学习钩子函数
date:       2019-5-9
author:     梦尽头
header-img: img/post-bg-cook.jpg
catalog: true
tags:
    - vue
---

## 前言
Vue 实例在被创建时，会经过一系列的初始化过程，初始化过程中会运行一些函数，叫做**生命周期钩子函数**，通过运用钩子函数，用户在可以在初始化的不同阶段添加自己的代码，以此来实现自己想做的事情。

## 生命周期钩子函数图例
以下图中标红的圆角矩形均为钩子函数，除此之外，vue高级版本还新增了一些钩子函数
![生命周期](http://127.0.0.1:4000/img/lifecycle.png)

## 钩子函数分类
- beforeCreate
- created
- beforeMount
- mounted
- beforeUpdate
- updated
- beforeDestroy
- destroyed
-  activated
- deactivated
> 新增的钩子函数
- errorCaptured

| 函数名称|    版本| 说明|
| :--------: | :--------:| :--|
| `beforeCreate`| 2.0+ | vue实例创建初始化后，数据观测 (`data observer`) 和` event/watcher `事件配置之前触发  |
| `created`|   2.0+ |  在实例创建完成后被立即调用，此时实例已完成数据观测 (`data observer`)，属性方法的运算，`watch/event` 事件回调的配置。然而，挂载阶段还没开始，`$el` 属性目前不可见 |			   				                  
| `beforeMount`| 2.0+   |  实例挂载开始之前被调用， `render` 函数首次被调用，**该钩子在服务器端渲染期间不被调用**|
| `mounted`| 2.0+   | 实例已挂载。`mounted` **不会承诺**所有的子组件也都一起被挂载，如果你希望等到整个视图都渲染完毕再进行一些操作，请用 `vm.$nextTick`：```mounted: function () {this.$nextTick(function () { // Code that will run only after the entire view has been rendered })}```**该钩子在服务器端渲染期间不被调用**|
| `beforeUpdate`| 2.0+   |  数据更新时调用，发生在虚拟 DOM 打补丁之前，这里适合在更新之前访问现有的 DOM，比如手动移除已添加的事件监听器，**该钩子在服务器端渲染期间不被调用，因为只有初次渲染会在服务端进行** |
|`updated` | 2.0+   | 数据更改会导致虚拟 DOM 重新渲染和打补丁，在这之后会调用`updated`钩子。`updated` 不会承诺所有的子组件也都一起被重绘。如果你希望等到整个视图都重绘完毕，请用 `vm.$nextTick` ：```updated: function () {this.$nextTick(function () { // Code that will run only after the entire view has been re-rendere})}```  `updated`钩子被调用时，组件 DOM 已经更新，你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改实例中的状态属性，如果要相应状态改变，通常最好使用`计算属性`或 `watcher` |
| `beforeDestroy`| 2.0+   |  实例销毁之前调用。在这一步，实例仍然完全可用，**该钩子在服务器端渲染期间不被调用** |
| `destroyed`| 2.0+   | Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会接触绑定，所有的事件监听器会被移除，所有的子实例也会被销毁，**该钩子在服务器端渲染期间不被调用** |
|`activated` | 2.0+   | 当某个组件使用了`keep-alive`组件缓存时，该组件激活时调用`activated`钩子，**该钩子在服务器端渲染期间不被调用**|
|`deactivated` | 2.0+   | 当某个组件使用了`keep-alive`组件缓存时，该组件停用时调用`deactivated`钩子，**该钩子在服务器端渲染期间不被调用**|
|`errorCaptured` | 2.5.0+   |  当捕获一个来自子孙组件的错误时被调用。此钩子会收到三个参数：错误对象、发生错误的组件实例以及一个包含错误来源信息的字符串。此钩子可以返回 `false` 以阻止该错误继续向上传播 |

